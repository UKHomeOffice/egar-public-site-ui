{% extends "base-template.njk" %}

{% import "common/templates/includes/macros.njk" as m %}

{% block pageTitle %}
	{{ __('error_prefix') if errors }} GAR | Edit an Aircraft
{% endblock %}

{% block header %}
  {% include "header-user.njk" %}
{% endblock %}

{% block beforeContent %}

  {% include "phase.njk" %}
  <div class="govuk-breadcrumbs">
    <ol class="govuk-breadcrumbs__list">
      <li class="govuk-breadcrumbs__list-item">
        <a class="govuk-breadcrumbs__link" href="/aircraft">{{__('title_aircraft')}}</a>
      </li>
      <li class="govuk-breadcrumbs__list-item">{{__('title_edit_aircraft')}}</li>
    </ol>
  </div>

{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if errors %}
        {% include "common/templates/includes/errors.njk" %}
      {% endif %}

      <form action="/aircraft/edit" autocomplete="off" class="form-group"method="post" role="form" >

      <h1 class="govuk-heading-xl">{{__('title_edit_aircraft')}}</h1>

      <p class="govuk-body-l">{{__('edit_aircraft_caption')}}</p>

      <div class="{{ m.form_group_class('craftReg', errors) }}">
        <label class="govuk-label" for="craftReg">{{__('field_aircraft_registration')}}</label>
        {{ m.hint('craftReg', __('field_aircraft_registration_hint')) }}
        {{ m.error_message('craftReg', errors, __) }}
        <input id="craftReg" name="craftReg"  class="govuk-input govuk-input--width-10"
          type="text"
          value="{{cookie.getEditCraft().registration}}" />
      </div>

      <div class="{{ m.form_group_class('craftType', errors) }}">
        <label class="govuk-label" for="craftType">{{__('field_aircraft_type')}}</label>
        {{ m.hint('craftType', __('field_aircraft_type_hint')) }}
        {{ m.error_message('craftType', errors, __) }}
        <input id="craftType" name="craftType" class="govuk-input govuk-input--width-20"
          type="text"
          value="{{cookie.getEditCraft().craftType}}" />
      </div>

      <div class="{{ m.form_group_class('craftBase', errors) }}">
        <label class="govuk-label" for="craftBase">{{__('field_aircraft_base')}}</label>
        {{ m.hint('craftBase', 'IATA / ICAO / Coordinates (decimal)')}}
        {{ m.error_message('craftBase', errors, __) }}
        <input  class="govuk-input govuk-input--width-10"
          id="craftBase" name="craftBase" style="width:100%" type="text"
          value="{{cookie.getEditCraft().craftBase}}" />
        <input type="hidden" id="craftId" name="craftId" value="{{cookie.getEditCraft().craftId}}">
      </div>

      <div class="govuk-form-group">
           <table class="govuk-table">
          <tr class="govuk-table__row">
            <td class="govuk-table__cell "><a class="govuk-button" href="/aircraft">Exit without saving</a></td>
            <td class="govuk-table__cell "><input id="login" class="govuk-button" type="submit" value="Save and exit"
          onclick="sendAnalytics(event, 'Save and Exit', 'click')"></td>
          </tr>
        </table>

          </div>
            <input type="hidden" name="_csrf" value="{{ csrfToken }}" />

      </form>
    </div>
  </div>
{% endblock %}

(function (t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? e(exports)
    : 'function' == typeof define && define.amd
      ? define('GOVUKFrontend', ['exports'], e)
      : e((t.GOVUKFrontend = {}));
})(this, function (t) {
  function e(t, e) {
    if (window.NodeList.prototype.forEach) return t.forEach(e);
    for (var n = 0; n < t.length; n++) e.call(window, t[n], n, t);
  }
  function n() {
    var t = new Date().getTime();
    return (
      'undefined' != typeof window.performance &&
        'function' == typeof window.performance.now &&
        (t += window.performance.now()),
      'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (e) {
        var n = (t + 16 * Math.random()) % 16 | 0;
        return (
          (t = Math.floor(t / 16)),
          ('x' === e ? n : (3 & n) | 8).toString(16)
        );
      })
    );
  }
  function o(t) {
    ((this.$module = t),
      (this.moduleId = t.getAttribute('id')),
      (this.$sections = t.querySelectorAll('.govuk-accordion__section')),
      (this.$openAllButton = ''),
      (this.browserSupportsSessionStorage = p.checkForSessionStorage()),
      (this.controlsClass = 'govuk-accordion__controls'),
      (this.openAllClass = 'govuk-accordion__open-all'),
      (this.iconClass = 'govuk-accordion__icon'),
      (this.sectionHeaderClass = 'govuk-accordion__section-header'),
      (this.sectionHeaderFocusedClass =
        'govuk-accordion__section-header--focused'),
      (this.sectionHeadingClass = 'govuk-accordion__section-heading'),
      (this.sectionSummaryClass = 'govuk-accordion__section-summary'),
      (this.sectionButtonClass = 'govuk-accordion__section-button'),
      (this.sectionExpandedClass = 'govuk-accordion__section--expanded'));
  }
  function i(t) {
    this.$module = t;
  }
  function r(t) {
    this.$module = t;
  }
  function s(t) {
    ((this.$module = t),
      (this.$textarea = t.querySelector('.js-character-count')));
  }
  function a(t) {
    ((this.$module = t),
      (this.$inputs = t.querySelectorAll('input[type="checkbox"]')));
  }
  function c(t) {
    this.$module = t;
  }
  function l(t) {
    this.$module = t;
  }
  function u(t) {
    ((this.$module = t),
      (this.$inputs = t.querySelectorAll('input[type="radio"]')));
  }
  function d(t) {
    ((this.$module = t),
      (this.$tabs = t.querySelectorAll('.govuk-tabs__tab')),
      (this.keys = { left: 37, right: 39, up: 38, down: 40 }),
      (this.jsHiddenClass = 'govuk-tabs__panel--hidden'));
  }
  function h() {
    new i(document).init();
    var t = document.querySelectorAll('[data-module="accordion"]');
    e(t, function (t) {
      new o(t).init();
    });
    var n = document.querySelectorAll('details');
    e(n, function (t) {
      new r(t).init();
    });
    var h = document.querySelectorAll('[data-module="character-count"]');
    e(h, function (t) {
      new s(t).init();
    });
    var p = document.querySelectorAll('[data-module="checkboxes"]');
    e(p, function (t) {
      new a(t).init();
    });
    var f = document.querySelector('[data-module="error-summary"]');
    new c(f).init();
    var b = document.querySelector('[data-module="header"]');
    new l(b).init();
    var m = document.querySelectorAll('[data-module="radios"]');
    e(m, function (t) {
      new u(t).init();
    });
    var v = document.querySelectorAll('[data-module="tabs"]');
    e(v, function (t) {
      new d(t).init();
    });
  }
  ((function (t) {
    var e =
      'defineProperty' in Object &&
      (function () {
        try {
          var t = {};
          return (Object.defineProperty(t, 'test', { value: 42 }), !0);
        } catch (t) {
          return !1;
        }
      })();
    e ||
      (function (t) {
        var e = Object.prototype.hasOwnProperty('__defineGetter__'),
          n = 'Getters & setters cannot be defined on this javascript engine',
          o =
            'A property cannot both have accessors and be writable or have a value';
        Object.defineProperty = function (i, r, s) {
          if (
            t &&
            (i === window ||
              i === document ||
              i === Element.prototype ||
              i instanceof Element)
          )
            return t(i, r, s);
          if (null === i || !(i instanceof Object || 'object' == typeof i))
            throw new TypeError('Object.defineProperty called on non-object');
          if (!(s instanceof Object))
            throw new TypeError('Property description must be an object');
          var a = String(r),
            c = 'value' in s || 'writable' in s,
            l = 'get' in s && typeof s.get,
            u = 'set' in s && typeof s.set;
          if (l) {
            if ('function' !== l)
              throw new TypeError('Getter must be a function');
            if (!e) throw new TypeError(n);
            if (c) throw new TypeError(o);
            Object.__defineGetter__.call(i, a, s.get);
          } else i[a] = s.value;
          if (u) {
            if ('function' !== u)
              throw new TypeError('Setter must be a function');
            if (!e) throw new TypeError(n);
            if (c) throw new TypeError(o);
            Object.__defineSetter__.call(i, a, s.set);
          }
          return ('value' in s && (i[a] = s.value), i);
        };
      })(Object.defineProperty);
  }).call(
    ('object' == typeof window && window) ||
      ('object' == typeof self && self) ||
      ('object' == typeof global && global) ||
      {}
  ),
    function (t) {
      var e = 'bind' in Function.prototype;
      e ||
        Object.defineProperty(Function.prototype, 'bind', {
          value: function (t) {
            var e,
              n = Array,
              o = Object,
              i = o.prototype,
              r = n.prototype,
              s = function () {},
              a = i.toString,
              c =
                'function' == typeof Symbol &&
                'symbol' == typeof Symbol.toStringTag,
              l = Function.prototype.toString,
              u = function (t) {
                try {
                  return (l.call(t), !0);
                } catch (t) {
                  return !1;
                }
              },
              d = '[object Function]',
              h = '[object GeneratorFunction]';
            e = function (t) {
              if ('function' != typeof t) return !1;
              if (c) return u(t);
              var e = a.call(t);
              return e === d || e === h;
            };
            var p = r.slice,
              f = r.concat,
              b = r.push,
              m = Math.max,
              v = this;
            if (!e(v))
              throw new TypeError(
                'Function.prototype.bind called on incompatible ' + v
              );
            for (
              var y,
                g = p.call(arguments, 1),
                w = function () {
                  if (this instanceof y) {
                    var e = v.apply(this, f.call(g, p.call(arguments)));
                    return o(e) === e ? e : this;
                  }
                  return v.apply(t, f.call(g, p.call(arguments)));
                },
                E = m(0, v.length - g.length),
                A = [],
                k = 0;
              k < E;
              k++
            )
              b.call(A, '$' + k);
            return (
              (y = Function(
                'binder',
                'return function (' +
                  A.join(',') +
                  '){ return binder.apply(this, arguments); }'
              )(w)),
              v.prototype &&
                ((s.prototype = v.prototype),
                (y.prototype = new s()),
                (s.prototype = null)),
              y
            );
          },
        });
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    function (t) {
      var e =
        'DOMTokenList' in this &&
        (function (t) {
          return (
            !('classList' in t) ||
            (!t.classList.toggle('x', !1) && !t.className)
          );
        })(document.createElement('x'));
      e ||
        (function (e) {
          var n = 'DOMTokenList' in e && e.DOMTokenList;
          ((n &&
            (!document.createElementNS ||
              !document.createElementNS('http://www.w3.org/2000/svg', 'svg') ||
              document.createElementNS('http://www.w3.org/2000/svg', 'svg')
                .classList instanceof DOMTokenList)) ||
            (e.DOMTokenList = (function () {
              var e = !0,
                n = function (t, n, o, i) {
                  Object.defineProperty
                    ? Object.defineProperty(t, n, {
                        configurable: !1 === e || !!i,
                        get: o,
                      })
                    : t.__defineGetter__(n, o);
                };
              try {
                n({}, 'support');
              } catch (t) {
                e = !1;
              }
              var o = function (e, o) {
                var i = this,
                  r = [],
                  s = {},
                  a = 0,
                  c = 0,
                  l = function (t) {
                    n(
                      i,
                      t,
                      function () {
                        return (d(), r[t]);
                      },
                      !1
                    );
                  },
                  u = function () {
                    if (a >= c) for (; c < a; ++c) l(c);
                  },
                  d = function () {
                    var t,
                      n,
                      i = arguments,
                      c = /\s+/;
                    if (i.length)
                      for (n = 0; n < i.length; ++n)
                        if (c.test(i[n]))
                          throw (
                            (t = new SyntaxError(
                              'String "' +
                                i[n] +
                                '" contains an invalid character'
                            )),
                            (t.code = 5),
                            (t.name = 'InvalidCharacterError'),
                            t
                          );
                    for (
                      r =
                        'object' == typeof e[o]
                          ? ('' + e[o].baseVal)
                              .replace(/^\s+|\s+$/g, '')
                              .split(c)
                          : ('' + e[o]).replace(/^\s+|\s+$/g, '').split(c),
                        '' === r[0] && (r = []),
                        s = {},
                        n = 0;
                      n < r.length;
                      ++n
                    )
                      s[r[n]] = !0;
                    ((a = r.length), u());
                  };
                return (
                  d(),
                  n(i, 'length', function () {
                    return (d(), a);
                  }),
                  (i.toLocaleString = i.toString =
                    function () {
                      return (d(), r.join(' '));
                    }),
                  (i.item = function (t) {
                    return (d(), r[t]);
                  }),
                  (i.contains = function (t) {
                    return (d(), !!s[t]);
                  }),
                  (i.add = function () {
                    d.apply(i, (t = arguments));
                    for (var t, n, c = 0, l = t.length; c < l; ++c)
                      ((n = t[c]), s[n] || (r.push(n), (s[n] = !0)));
                    a !== r.length &&
                      ((a = r.length >>> 0),
                      'object' == typeof e[o]
                        ? (e[o].baseVal = r.join(' '))
                        : (e[o] = r.join(' ')),
                      u());
                  }),
                  (i.remove = function () {
                    d.apply(i, (t = arguments));
                    for (var t, n = {}, c = 0, l = []; c < t.length; ++c)
                      ((n[t[c]] = !0), delete s[t[c]]);
                    for (c = 0; c < r.length; ++c) n[r[c]] || l.push(r[c]);
                    ((r = l),
                      (a = l.length >>> 0),
                      'object' == typeof e[o]
                        ? (e[o].baseVal = r.join(' '))
                        : (e[o] = r.join(' ')),
                      u());
                  }),
                  (i.toggle = function (e, n) {
                    return (
                      d.apply(i, [e]),
                      t !== n
                        ? n
                          ? (i.add(e), !0)
                          : (i.remove(e), !1)
                        : s[e]
                          ? (i.remove(e), !1)
                          : (i.add(e), !0)
                    );
                  }),
                  i
                );
              };
              return o;
            })()),
            (function () {
              var e = document.createElement('span');
              'classList' in e &&
                (e.classList.toggle('x', !1),
                e.classList.contains('x') &&
                  (e.classList.constructor.prototype.toggle = function (e) {
                    var n = arguments[1];
                    if (n === t) {
                      var o = !this.contains(e);
                      return (this[o ? 'add' : 'remove'](e), o);
                    }
                    return ((n = !!n), this[n ? 'add' : 'remove'](e), n);
                  }));
            })(),
            (function () {
              var t = document.createElement('span');
              if (
                'classList' in t &&
                (t.classList.add('a', 'b'), !t.classList.contains('b'))
              ) {
                var e = t.classList.constructor.prototype.add;
                t.classList.constructor.prototype.add = function () {
                  for (
                    var t = arguments, n = arguments.length, o = 0;
                    o < n;
                    o++
                  )
                    e.call(this, t[o]);
                };
              }
            })(),
            (function () {
              var t = document.createElement('span');
              if (
                'classList' in t &&
                (t.classList.add('a'),
                t.classList.add('b'),
                t.classList.remove('a', 'b'),
                t.classList.contains('b'))
              ) {
                var e = t.classList.constructor.prototype.remove;
                t.classList.constructor.prototype.remove = function () {
                  for (
                    var t = arguments, n = arguments.length, o = 0;
                    o < n;
                    o++
                  )
                    e.call(this, t[o]);
                };
              }
            })());
        })(this);
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    function (t) {
      var e = 'Document' in this;
      e ||
        ('undefined' == typeof WorkerGlobalScope &&
          'function' != typeof importScripts &&
          (this.HTMLDocument
            ? (this.Document = this.HTMLDocument)
            : ((this.Document =
                this.HTMLDocument =
                document.constructor =
                  new Function('return function Document() {}')()),
              (this.Document.prototype = document))));
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    function (t) {
      var e = 'Element' in this && 'HTMLElement' in this;
      e ||
        (function () {
          function t() {
            return (
              u-- || clearTimeout(e),
              !(
                !document.body ||
                document.body.prototype ||
                !/(complete|interactive)/.test(document.readyState)
              ) &&
                (a(document, !0),
                e && document.body.prototype && clearTimeout(e),
                !!document.body.prototype)
            );
          }
          if (window.Element && !window.HTMLElement)
            return void (window.HTMLElement = window.Element);
          window.Element = window.HTMLElement = new Function(
            'return function Element() {}'
          )();
          var e,
            n = document.appendChild(document.createElement('body')),
            o = n.appendChild(document.createElement('iframe')),
            i = o.contentWindow.document,
            r = (Element.prototype = i.appendChild(i.createElement('*'))),
            s = {},
            a = function (t, e) {
              var n,
                o,
                i,
                r = t.childNodes || [],
                c = -1;
              if (1 === t.nodeType && t.constructor !== Element) {
                t.constructor = Element;
                for (n in s) ((o = s[n]), (t[n] = o));
              }
              for (; (i = e && r[++c]); ) a(i, e);
              return t;
            },
            c = document.getElementsByTagName('*'),
            l = document.createElement,
            u = 100;
          (r.attachEvent('onpropertychange', function (t) {
            for (
              var e,
                n = t.propertyName,
                o = !s.hasOwnProperty(n),
                i = r[n],
                a = s[n],
                l = -1;
              (e = c[++l]);

            )
              1 === e.nodeType && (o || e[n] === a) && (e[n] = i);
            s[n] = i;
          }),
            (r.constructor = Element),
            r.hasAttribute ||
              (r.hasAttribute = function (t) {
                return null !== this.getAttribute(t);
              }),
            t() ||
              ((document.onreadystatechange = t), (e = setInterval(t, 25))),
            (document.createElement = function (t) {
              var e = l(String(t).toLowerCase());
              return a(e);
            }),
            document.removeChild(n));
        })();
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    function (t) {
      var e =
        'document' in this &&
        'classList' in document.documentElement &&
        'Element' in this &&
        'classList' in Element.prototype &&
        (function () {
          var t = document.createElement('span');
          return (t.classList.add('a', 'b'), t.classList.contains('b'));
        })();
      e ||
        (function (t) {
          var e = !0,
            n = function (t, n, o, i) {
              Object.defineProperty
                ? Object.defineProperty(t, n, {
                    configurable: !1 === e || !!i,
                    get: o,
                  })
                : t.__defineGetter__(n, o);
            };
          try {
            n({}, 'support');
          } catch (t) {
            e = !1;
          }
          var o = function (t, i, r) {
            n(
              t.prototype,
              i,
              function () {
                var t,
                  s = this,
                  a = '__defineGetter__DEFINE_PROPERTY' + i;
                if (s[a]) return t;
                if (((s[a] = !0), !1 === e)) {
                  for (
                    var c,
                      l = o.mirror || document.createElement('div'),
                      u = l.childNodes,
                      d = u.length,
                      h = 0;
                    h < d;
                    ++h
                  )
                    if (u[h]._R === s) {
                      c = u[h];
                      break;
                    }
                  (c || (c = l.appendChild(document.createElement('div'))),
                    (t = DOMTokenList.call(c, s, r)));
                } else t = new DOMTokenList(s, r);
                return (
                  n(s, i, function () {
                    return t;
                  }),
                  delete s[a],
                  t
                );
              },
              !0
            );
          };
          (o(t.Element, 'classList', 'className'),
            o(t.HTMLElement, 'classList', 'className'),
            o(t.HTMLLinkElement, 'relList', 'rel'),
            o(t.HTMLAnchorElement, 'relList', 'rel'),
            o(t.HTMLAreaElement, 'relList', 'rel'));
        })(this);
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    (o.prototype.init = function () {
      if (this.$module) {
        (this.initControls(), this.initSectionHeaders());
        var t = this.checkIfAllSectionsOpen();
        this.updateOpenAllButton(t);
      }
    }),
    (o.prototype.initControls = function () {
      ((this.$openAllButton = document.createElement('button')),
        this.$openAllButton.setAttribute('type', 'button'),
        (this.$openAllButton.innerHTML =
          'Open all <span class="govuk-visually-hidden">sections</span>'),
        this.$openAllButton.setAttribute('class', this.openAllClass),
        this.$openAllButton.setAttribute('aria-expanded', 'false'),
        this.$openAllButton.setAttribute('type', 'button'));
      var t = document.createElement('div');
      (t.setAttribute('class', this.controlsClass),
        t.appendChild(this.$openAllButton),
        this.$module.insertBefore(t, this.$module.firstChild),
        this.$openAllButton.addEventListener(
          'click',
          this.onOpenOrCloseAllToggle.bind(this)
        ));
    }),
    (o.prototype.initSectionHeaders = function () {
      e(
        this.$sections,
        function (t, e) {
          var n = t.querySelector('.' + this.sectionHeaderClass);
          (this.initHeaderAttributes(n, e),
            this.setExpanded(this.isExpanded(t), t),
            n.addEventListener('click', this.onSectionToggle.bind(this, t)),
            this.setInitialState(t));
        }.bind(this)
      );
    }),
    (o.prototype.initHeaderAttributes = function (t, e) {
      var n = this,
        o = t.querySelector('.' + this.sectionButtonClass),
        i = t.querySelector('.' + this.sectionHeadingClass),
        r = t.querySelector('.' + this.sectionSummaryClass),
        s = document.createElement('button');
      (s.setAttribute('type', 'button'),
        s.setAttribute('id', this.moduleId + '-heading-' + (e + 1)),
        s.setAttribute('aria-controls', this.moduleId + '-content-' + (e + 1)));
      for (var a = 0; a < o.attributes.length; a++) {
        var c = o.attributes.item(a);
        s.setAttribute(c.nodeName, c.nodeValue);
      }
      (s.addEventListener('focusin', function (e) {
        t.classList.contains(n.sectionHeaderFocusedClass) ||
          (t.className += ' ' + n.sectionHeaderFocusedClass);
      }),
        s.addEventListener('blur', function (e) {
          t.classList.remove(n.sectionHeaderFocusedClass);
        }),
        'undefined' != typeof r &&
          null !== r &&
          s.setAttribute(
            'aria-describedby',
            this.moduleId + '-summary-' + (e + 1)
          ),
        (s.innerHTML = o.innerHTML),
        i.removeChild(o),
        i.appendChild(s));
      var l = document.createElement('span');
      ((l.className = this.iconClass),
        l.setAttribute('aria-hidden', 'true'),
        i.appendChild(l));
    }),
    (o.prototype.onSectionToggle = function (t) {
      var e = this.isExpanded(t);
      (this.setExpanded(!e, t), this.storeState(t));
    }),
    (o.prototype.onOpenOrCloseAllToggle = function () {
      var t = this,
        n = this.$sections,
        o = !this.checkIfAllSectionsOpen();
      (e(n, function (e) {
        (t.setExpanded(o, e), t.storeState(e));
      }),
        t.updateOpenAllButton(o));
    }),
    (o.prototype.setExpanded = function (t, e) {
      var n = e.querySelector('.' + this.sectionButtonClass);
      (n.setAttribute('aria-expanded', t),
        t
          ? e.classList.add(this.sectionExpandedClass)
          : e.classList.remove(this.sectionExpandedClass));
      var o = this.checkIfAllSectionsOpen();
      this.updateOpenAllButton(o);
    }),
    (o.prototype.isExpanded = function (t) {
      return t.classList.contains(this.sectionExpandedClass);
    }),
    (o.prototype.checkIfAllSectionsOpen = function () {
      var t = this.$sections.length,
        e = this.$module.querySelectorAll(
          '.' + this.sectionExpandedClass
        ).length,
        n = t === e;
      return n;
    }),
    (o.prototype.updateOpenAllButton = function (t) {
      var e = t ? 'Close all' : 'Open all';
      ((e += '<span class="govuk-visually-hidden"> sections</span>'),
        this.$openAllButton.setAttribute('aria-expanded', t),
        (this.$openAllButton.innerHTML = e));
    }));
  var p = {
    checkForSessionStorage: function () {
      var t,
        e = 'this is the test string';
      try {
        return (
          window.sessionStorage.setItem(e, e),
          (t = window.sessionStorage.getItem(e) === e.toString()),
          window.sessionStorage.removeItem(e),
          t
        );
      } catch (t) {
        ('undefined' != typeof console && 'undefined' != typeof console.log) ||
          console.log('Notice: sessionStorage not available.');
      }
    },
  };
  ((o.prototype.storeState = function (t) {
    if (this.browserSupportsSessionStorage) {
      var e = t.querySelector('.' + this.sectionButtonClass);
      if (e) {
        var n = e.getAttribute('aria-controls'),
          o = e.getAttribute('aria-expanded');
        ('undefined' != typeof n ||
          ('undefined' != typeof console &&
            'undefined' != typeof console.log) ||
          console.error(
            new Error('No aria controls present in accordion section heading.')
          ),
          'undefined' != typeof o ||
            ('undefined' != typeof console &&
              'undefined' != typeof console.log) ||
            console.error(
              new Error(
                'No aria expanded present in accordion section heading.'
              )
            ),
          n && o && window.sessionStorage.setItem(n, o));
      }
    }
  }),
    (o.prototype.setInitialState = function (t) {
      if (this.browserSupportsSessionStorage) {
        var e = t.querySelector('.' + this.sectionButtonClass);
        if (e) {
          var n = e.getAttribute('aria-controls'),
            o = n ? window.sessionStorage.getItem(n) : null;
          null !== o && this.setExpanded('true' === o, t);
        }
      }
    }),
    function (t) {
      var e = 'Window' in this;
      e ||
        ('undefined' == typeof WorkerGlobalScope &&
          'function' != typeof importScripts &&
          (function (t) {
            t.constructor
              ? (t.Window = t.constructor)
              : ((t.Window = t.constructor =
                  new Function('return function Window() {}')()).prototype =
                  this);
          })(this));
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    function (t) {
      var e = (function (t) {
        if (!('Event' in t)) return !1;
        if ('function' == typeof t.Event) return !0;
        try {
          return (new Event('click'), !0);
        } catch (t) {
          return !1;
        }
      })(this);
      e ||
        (function () {
          function e(t, e) {
            for (var n = -1, o = t.length; ++n < o; )
              if (n in t && t[n] === e) return n;
            return -1;
          }
          var n = {
            click: 1,
            dblclick: 1,
            keyup: 1,
            keypress: 1,
            keydown: 1,
            mousedown: 1,
            mouseup: 1,
            mousemove: 1,
            mouseover: 1,
            mouseenter: 1,
            mouseleave: 1,
            mouseout: 1,
            storage: 1,
            storagecommit: 1,
            textinput: 1,
          };
          if ('undefined' != typeof document && 'undefined' != typeof window) {
            var o = (window.Event && window.Event.prototype) || null;
            ((window.Event = Window.prototype.Event =
              function (e, n) {
                if (!e) throw new Error('Not enough arguments');
                var o;
                if ('createEvent' in document) {
                  o = document.createEvent('Event');
                  var i = !(!n || n.bubbles === t) && n.bubbles,
                    r = !(!n || n.cancelable === t) && n.cancelable;
                  return (o.initEvent(e, i, r), o);
                }
                return (
                  (o = document.createEventObject()),
                  (o.type = e),
                  (o.bubbles = !(!n || n.bubbles === t) && n.bubbles),
                  (o.cancelable = !(!n || n.cancelable === t) && n.cancelable),
                  o
                );
              }),
              o &&
                Object.defineProperty(window.Event, 'prototype', {
                  configurable: !1,
                  enumerable: !1,
                  writable: !0,
                  value: o,
                }),
              'createEvent' in document ||
                ((window.addEventListener =
                  Window.prototype.addEventListener =
                  Document.prototype.addEventListener =
                  Element.prototype.addEventListener =
                    function () {
                      var t = this,
                        o = arguments[0],
                        i = arguments[1];
                      if (t === window && o in n)
                        throw new Error(
                          'In IE8 the event: ' +
                            o +
                            ' is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.'
                        );
                      (t._events || (t._events = {}),
                        t._events[o] ||
                          ((t._events[o] = function (n) {
                            var o,
                              i = t._events[n.type].list,
                              r = i.slice(),
                              s = -1,
                              a = r.length;
                            for (
                              n.preventDefault = function () {
                                n.cancelable !== !1 && (n.returnValue = !1);
                              },
                                n.stopPropagation = function () {
                                  n.cancelBubble = !0;
                                },
                                n.stopImmediatePropagation = function () {
                                  ((n.cancelBubble = !0),
                                    (n.cancelImmediate = !0));
                                },
                                n.currentTarget = t,
                                n.relatedTarget = n.fromElement || null,
                                n.target = n.target || n.srcElement || t,
                                n.timeStamp = new Date().getTime(),
                                n.clientX &&
                                  ((n.pageX =
                                    n.clientX +
                                    document.documentElement.scrollLeft),
                                  (n.pageY =
                                    n.clientY +
                                    document.documentElement.scrollTop));
                              ++s < a && !n.cancelImmediate;

                            )
                              s in r &&
                                ((o = r[s]),
                                e(i, o) !== -1 &&
                                  'function' == typeof o &&
                                  o.call(t, n));
                          }),
                          (t._events[o].list = []),
                          t.attachEvent &&
                            t.attachEvent('on' + o, t._events[o])),
                        t._events[o].list.push(i));
                    }),
                (window.removeEventListener =
                  Window.prototype.removeEventListener =
                  Document.prototype.removeEventListener =
                  Element.prototype.removeEventListener =
                    function () {
                      var t,
                        n = this,
                        o = arguments[0],
                        i = arguments[1];
                      n._events &&
                        n._events[o] &&
                        n._events[o].list &&
                        ((t = e(n._events[o].list, i)),
                        t !== -1 &&
                          (n._events[o].list.splice(t, 1),
                          n._events[o].list.length ||
                            (n.detachEvent &&
                              n.detachEvent('on' + o, n._events[o]),
                            delete n._events[o])));
                    }),
                (window.dispatchEvent =
                  Window.prototype.dispatchEvent =
                  Document.prototype.dispatchEvent =
                  Element.prototype.dispatchEvent =
                    function (t) {
                      if (!arguments.length)
                        throw new Error('Not enough arguments');
                      if (!t || 'string' != typeof t.type)
                        throw new Error('DOM Events Exception 0');
                      var e = this,
                        n = t.type;
                      try {
                        if (!t.bubbles) {
                          t.cancelBubble = !0;
                          var o = function (t) {
                            ((t.cancelBubble = !0),
                              (e || window).detachEvent('on' + n, o));
                          };
                          this.attachEvent('on' + n, o);
                        }
                        this.fireEvent('on' + n, t);
                      } catch (o) {
                        t.target = e;
                        do
                          ((t.currentTarget = e),
                            '_events' in e &&
                              'function' == typeof e._events[n] &&
                              e._events[n].call(e, t),
                            'function' == typeof e['on' + n] &&
                              e['on' + n].call(e, t),
                            (e =
                              9 === e.nodeType
                                ? e.parentWindow
                                : e.parentNode));
                        while (e && !t.cancelBubble);
                      }
                      return !0;
                    }),
                document.attachEvent('onreadystatechange', function () {
                  'complete' === document.readyState &&
                    document.dispatchEvent(
                      new Event('DOMContentLoaded', { bubbles: !0 })
                    );
                })));
          }
        })();
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ));
  var f = 32;
  ((i.prototype.handleKeyDown = function (t) {
    var e = t.target;
    'button' === e.getAttribute('role') &&
      t.keyCode === f &&
      (t.preventDefault(), e.click());
  }),
    (i.prototype.init = function () {
      this.$module.addEventListener('keydown', this.handleKeyDown);
    }));
  var b = 13,
    m = 32,
    v = 'boolean' == typeof document.createElement('details').open;
  ((r.prototype.handleInputs = function (t, e) {
    (t.addEventListener('keypress', function (t) {
      var n = t.target;
      (t.keyCode !== b && t.keyCode !== m) ||
        ('summary' === n.nodeName.toLowerCase() &&
          (t.preventDefault(), n.click ? n.click() : e(t)));
    }),
      t.addEventListener('keyup', function (t) {
        var e = t.target;
        t.keyCode === m &&
          'summary' === e.nodeName.toLowerCase() &&
          t.preventDefault();
      }),
      t.addEventListener('click', e));
  }),
    (r.prototype.init = function () {
      var t = this.$module;
      if (t) {
        var e = (this.$summary = t.getElementsByTagName('summary').item(0)),
          o = (this.$content = t.getElementsByTagName('div').item(0));
        if (e && o) {
          (o.id || (o.id = 'details-content-' + n()),
            t.setAttribute('role', 'group'),
            e.setAttribute('role', 'button'),
            e.setAttribute('aria-controls', o.id),
            v || (e.tabIndex = 0));
          var i = null !== t.getAttribute('open');
          (i === !0
            ? (e.setAttribute('aria-expanded', 'true'),
              o.setAttribute('aria-hidden', 'false'))
            : (e.setAttribute('aria-expanded', 'false'),
              o.setAttribute('aria-hidden', 'true'),
              v || (o.style.display = 'none')),
            this.handleInputs(e, this.setAttributes.bind(this)));
        }
      }
    }),
    (r.prototype.setAttributes = function () {
      var t = this.$module,
        e = this.$summary,
        n = this.$content,
        o = 'true' === e.getAttribute('aria-expanded'),
        i = 'true' === n.getAttribute('aria-hidden');
      if (
        (e.setAttribute('aria-expanded', o ? 'false' : 'true'),
        n.setAttribute('aria-hidden', i ? 'false' : 'true'),
        !v)
      ) {
        n.style.display = o ? 'none' : '';
        var r = null !== t.getAttribute('open');
        r ? t.removeAttribute('open') : t.setAttribute('open', 'open');
      }
      return !0;
    }),
    (r.prototype.destroy = function (t) {
      (t.removeEventListener('keypress'),
        t.removeEventListener('keyup'),
        t.removeEventListener('click'));
    }),
    (s.prototype.defaults = {
      characterCountAttribute: 'data-maxlength',
      wordCountAttribute: 'data-maxwords',
    }),
    (s.prototype.init = function () {
      var t = this.$module,
        e = this.$textarea;
      if (e) {
        this.options = this.getDataset(t);
        var n = this.defaults.characterCountAttribute;
        if (
          (this.options.maxwords && (n = this.defaults.wordCountAttribute),
          (this.maxLength = t.getAttribute(n)),
          this.maxLength)
        ) {
          var o = this.createCountMessage.bind(this);
          if (((this.countMessage = o()), this.countMessage)) {
            t.removeAttribute('maxlength');
            var i = this.bindChangeEvents.bind(this);
            i();
            var r = this.updateCountMessage.bind(this);
            r();
          }
        }
      }
    }),
    (s.prototype.getDataset = function (t) {
      var e = {},
        n = t.attributes;
      if (n)
        for (var o = 0; o < n.length; o++) {
          var i = n[o],
            r = i.name.match(/^data-(.+)/);
          r && (e[r[1]] = i.value);
        }
      return e;
    }),
    (s.prototype.count = function (t) {
      var e;
      if (this.options.maxwords) {
        var n = t.match(/\S+/g) || [];
        e = n.length;
      } else e = t.length;
      return e;
    }),
    (s.prototype.createCountMessage = function () {
      var t = this.$textarea,
        e = t.id,
        n = document.getElementById(e + '-info');
      return (
        e && !n
          ? (t.insertAdjacentHTML(
              'afterend',
              '<span id="' +
                e +
                '-info" class="govuk-hint govuk-character-count__message" aria-live="polite"></span>'
            ),
            (this.describedBy = t.getAttribute('aria-describedby')),
            (this.describedByInfo = this.describedBy + ' ' + e + '-info'),
            t.setAttribute('aria-describedby', this.describedByInfo),
            (n = document.getElementById(e + '-info')))
          : t.insertAdjacentElement('afterend', n),
        n
      );
    }),
    (s.prototype.bindChangeEvents = function () {
      var t = this.$textarea;
      (t.addEventListener('keyup', this.checkIfValueChanged.bind(this)),
        t.addEventListener('focus', this.handleFocus.bind(this)),
        t.addEventListener('blur', this.handleBlur.bind(this)));
    }),
    (s.prototype.checkIfValueChanged = function () {
      if (
        (this.$textarea.oldValue || (this.$textarea.oldValue = ''),
        this.$textarea.value !== this.$textarea.oldValue)
      ) {
        this.$textarea.oldValue = this.$textarea.value;
        var t = this.updateCountMessage.bind(this);
        t();
      }
    }),
    (s.prototype.updateCountMessage = function () {
      var t = this.$textarea,
        e = this.options,
        n = this.countMessage,
        o = this.count(t.value),
        i = this.maxLength,
        r = i - o,
        s = e.threshold ? e.threshold : 0,
        a = (i * s) / 100;
      (a > o
        ? n.classList.add('govuk-character-count__message--disabled')
        : n.classList.remove('govuk-character-count__message--disabled'),
        r < 0
          ? (t.classList.add('govuk-textarea--error'),
            n.classList.remove('govuk-hint'),
            n.classList.add('govuk-error-message'))
          : (t.classList.remove('govuk-textarea--error'),
            n.classList.remove('govuk-error-message'),
            n.classList.add('govuk-hint')));
      var c = 'remaining',
        l = 'character',
        u = r;
      (e.maxwords && (l = 'word'),
        (l += r === -1 || 1 === r ? '' : 's'),
        (c = r < 0 ? 'too many' : 'remaining'),
        (u = Math.abs(r)),
        (n.innerHTML = 'You have ' + u + ' ' + l + ' ' + c));
    }),
    (s.prototype.handleFocus = function () {
      this.valueChecker = setInterval(this.checkIfValueChanged.bind(this), 1e3);
    }),
    (s.prototype.handleBlur = function () {
      clearInterval(this.valueChecker);
    }),
    (a.prototype.init = function () {
      var t = this.$module,
        n = this.$inputs;
      (e(
        n,
        function (e) {
          var n = e.getAttribute('data-aria-controls');
          n &&
            t.querySelector('#' + n) &&
            (e.setAttribute('aria-controls', n),
            e.removeAttribute('data-aria-controls'),
            this.setAttributes(e));
        }.bind(this)
      ),
        t.addEventListener('click', this.handleClick.bind(this)));
    }),
    (a.prototype.setAttributes = function (t) {
      var e = t.checked;
      t.setAttribute('aria-expanded', e);
      var n = this.$module.querySelector('#' + t.getAttribute('aria-controls'));
      n && n.classList.toggle('govuk-checkboxes__conditional--hidden', !e);
    }),
    (a.prototype.handleClick = function (t) {
      var e = t.target,
        n = 'checkbox' === e.getAttribute('type'),
        o = e.getAttribute('aria-controls');
      n && o && this.setAttributes(e);
    }),
    function (t) {
      var e = 'document' in this && 'matches' in document.documentElement;
      e ||
        (Element.prototype.matches =
          Element.prototype.webkitMatchesSelector ||
          Element.prototype.oMatchesSelector ||
          Element.prototype.msMatchesSelector ||
          Element.prototype.mozMatchesSelector ||
          function (t) {
            for (
              var e = this,
                n = (e.document || e.ownerDocument).querySelectorAll(t),
                o = 0;
              n[o] && n[o] !== e;

            )
              ++o;
            return !!n[o];
          });
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    function (t) {
      var e = 'document' in this && 'closest' in document.documentElement;
      e ||
        (Element.prototype.closest = function (t) {
          for (var e = this; e; ) {
            if (e.matches(t)) return e;
            e =
              'SVGElement' in window && e instanceof SVGElement
                ? e.parentNode
                : e.parentElement;
          }
          return null;
        });
    }.call(
      ('object' == typeof window && window) ||
        ('object' == typeof self && self) ||
        ('object' == typeof global && global) ||
        {}
    ),
    (c.prototype.init = function () {
      var t = this.$module;
      t &&
        (window.addEventListener('load', function () {
          t.focus();
        }),
        t.addEventListener('click', this.handleClick.bind(this)));
    }),
    (c.prototype.handleClick = function (t) {
      var e = t.target;
      this.focusTarget(e) && t.preventDefault();
    }),
    (c.prototype.focusTarget = function (t) {
      if ('A' !== t.tagName || t.href === !1) return !1;
      var e = this.getFragmentFromUrl(t.href),
        n = document.getElementById(e);
      if (!n) return !1;
      var o = this.getAssociatedLegendOrLabel(n);
      return (
        !!o &&
        (window.history.pushState
          ? window.history.pushState(null, null, '#' + e)
          : (window.location.hash = e),
        o.scrollIntoView(),
        n.focus({ preventScroll: !0 }),
        !0)
      );
    }),
    (c.prototype.getFragmentFromUrl = function (t) {
      return t.indexOf('#') !== -1 && t.split('#').pop();
    }),
    (c.prototype.getAssociatedLegendOrLabel = function (t) {
      var e = t.closest('fieldset');
      if (e) {
        var n = e.getElementsByTagName('legend');
        if (n.length) return n[0];
      }
      return (
        document.querySelector("label[for='" + t.getAttribute('id') + "']") ||
        t.closest('label')
      );
    }),
    (l.prototype.init = function () {
      var t = this.$module;
      if (t) {
        var e = t.querySelector('.js-header-toggle');
        e && e.addEventListener('click', this.handleClick.bind(this));
      }
    }),
    (l.prototype.toggleClass = function (t, e) {
      t.className.indexOf(e) > 0
        ? (t.className = t.className.replace(' ' + e, ''))
        : (t.className += ' ' + e);
    }),
    (l.prototype.handleClick = function (t) {
      var e = this.$module,
        n = t.target || t.srcElement,
        o = e.querySelector('#' + n.getAttribute('aria-controls'));
      n &&
        o &&
        (this.toggleClass(o, 'govuk-header__navigation--open'),
        this.toggleClass(n, 'govuk-header__menu-button--open'),
        n.setAttribute(
          'aria-expanded',
          'true' !== n.getAttribute('aria-expanded')
        ),
        o.setAttribute(
          'aria-hidden',
          'false' === o.getAttribute('aria-hidden')
        ));
    }),
    (u.prototype.init = function () {
      var t = this.$module,
        n = this.$inputs;
      (e(
        n,
        function (e) {
          var n = e.getAttribute('data-aria-controls');
          n &&
            t.querySelector('#' + n) &&
            (e.setAttribute('aria-controls', n),
            e.removeAttribute('data-aria-controls'),
            this.setAttributes(e));
        }.bind(this)
      ),
        t.addEventListener('click', this.handleClick.bind(this)));
    }),
    (u.prototype.setAttributes = function (t) {
      var e = t.checked;
      t.setAttribute('aria-expanded', e);
      var n = this.$module.querySelector('#' + t.getAttribute('aria-controls'));
      n && n.classList.toggle('govuk-radios__conditional--hidden', !e);
    }),
    (u.prototype.handleClick = function (t) {
      e(
        this.$inputs,
        function (t) {
          var e = 'radio' === t.getAttribute('type'),
            n = t.getAttribute('aria-controls');
          e && n && this.setAttributes(t);
        }.bind(this)
      );
    }),
    (d.prototype.init = function () {
      'function' == typeof window.matchMedia
        ? this.setupResponsiveChecks()
        : this.setup();
    }),
    (d.prototype.setupResponsiveChecks = function () {
      ((this.mql = window.matchMedia('(min-width: 40.0625em)')),
        this.mql.addListener(this.checkMode.bind(this)),
        this.checkMode());
    }),
    (d.prototype.checkMode = function () {
      this.mql.matches ? this.setup() : this.teardown();
    }),
    (d.prototype.setup = function () {
      var t = this.$module,
        n = this.$tabs,
        o = t.querySelector('.govuk-tabs__list'),
        i = t.querySelectorAll('.govuk-tabs__list-item');
      if (n && o && i) {
        (o.setAttribute('role', 'tablist'),
          e(i, function (t) {
            t.setAttribute('role', 'presentation');
          }),
          e(
            n,
            function (t) {
              (this.setAttributes(t),
                (t.boundTabClick = this.onTabClick.bind(this)),
                (t.boundTabKeydown = this.onTabKeydown.bind(this)),
                t.addEventListener('click', t.boundTabClick, !0),
                t.addEventListener('keydown', t.boundTabKeydown, !0),
                this.hideTab(t));
            }.bind(this)
          ));
        var r = this.getTab(window.location.hash) || this.$tabs[0];
        (this.showTab(r),
          (t.boundOnHashChange = this.onHashChange.bind(this)),
          window.addEventListener('hashchange', t.boundOnHashChange, !0));
      }
    }),
    (d.prototype.teardown = function () {
      var t = this.$module,
        n = this.$tabs,
        o = t.querySelector('.govuk-tabs__list'),
        i = t.querySelectorAll('.govuk-tabs__list-item');
      n &&
        o &&
        i &&
        (o.removeAttribute('role'),
        e(i, function (t) {
          t.removeAttribute('role', 'presentation');
        }),
        e(
          n,
          function (t) {
            (t.removeEventListener('click', t.boundTabClick, !0),
              t.removeEventListener('keydown', t.boundTabKeydown, !0),
              this.unsetAttributes(t));
          }.bind(this)
        ),
        window.removeEventListener('hashchange', t.boundOnHashChange, !0));
    }),
    (d.prototype.onHashChange = function (t) {
      var e = window.location.hash,
        n = this.getTab(e);
      if (n) {
        if (this.changingHash) return void (this.changingHash = !1);
        var o = this.getCurrentTab();
        (this.hideTab(o), this.showTab(n), n.focus());
      }
    }),
    (d.prototype.hideTab = function (t) {
      (this.unhighlightTab(t), this.hidePanel(t));
    }),
    (d.prototype.showTab = function (t) {
      (this.highlightTab(t), this.showPanel(t));
    }),
    (d.prototype.getTab = function (t) {
      return this.$module.querySelector('.govuk-tabs__tab[href="' + t + '"]');
    }),
    (d.prototype.setAttributes = function (t) {
      var e = this.getHref(t).slice(1);
      (t.setAttribute('id', 'tab_' + e),
        t.setAttribute('role', 'tab'),
        t.setAttribute('aria-controls', e),
        t.setAttribute('tabindex', '-1'));
      var n = this.getPanel(t);
      (n.setAttribute('role', 'tabpanel'),
        n.setAttribute('aria-labelledby', t.id),
        n.classList.add(this.jsHiddenClass));
    }),
    (d.prototype.unsetAttributes = function (t) {
      (t.removeAttribute('id'),
        t.removeAttribute('role'),
        t.removeAttribute('aria-controls'),
        t.removeAttribute('tabindex'));
      var e = this.getPanel(t);
      (e.removeAttribute('role'),
        e.removeAttribute('aria-labelledby'),
        e.classList.remove(this.jsHiddenClass));
    }),
    (d.prototype.onTabClick = function (t) {
      t.preventDefault();
      var e = t.target,
        n = this.getCurrentTab();
      (this.hideTab(n), this.showTab(e), this.createHistoryEntry(e));
    }),
    (d.prototype.createHistoryEntry = function (t) {
      var e = this.getPanel(t),
        n = e.id;
      ((e.id = ''),
        (this.changingHash = !0),
        (window.location.hash = this.getHref(t).slice(1)),
        (e.id = n));
    }),
    (d.prototype.onTabKeydown = function (t) {
      switch (t.keyCode) {
        case this.keys.left:
        case this.keys.up:
          (this.activatePreviousTab(), t.preventDefault());
          break;
        case this.keys.right:
        case this.keys.down:
          (this.activateNextTab(), t.preventDefault());
      }
    }),
    (d.prototype.activateNextTab = function () {
      var t = this.getCurrentTab(),
        e = t.parentNode.nextElementSibling;
      if (e) var n = e.firstElementChild;
      n &&
        (this.hideTab(t),
        this.showTab(n),
        n.focus(),
        this.createHistoryEntry(n));
    }),
    (d.prototype.activatePreviousTab = function () {
      var t = this.getCurrentTab(),
        e = t.parentNode.previousElementSibling;
      if (e) var n = e.firstElementChild;
      n &&
        (this.hideTab(t),
        this.showTab(n),
        n.focus(),
        this.createHistoryEntry(n));
    }),
    (d.prototype.getPanel = function (t) {
      var e = this.$module.querySelector(this.getHref(t));
      return e;
    }),
    (d.prototype.showPanel = function (t) {
      var e = this.getPanel(t);
      e.classList.remove(this.jsHiddenClass);
    }),
    (d.prototype.hidePanel = function (t) {
      var e = this.getPanel(t);
      e.classList.add(this.jsHiddenClass);
    }),
    (d.prototype.unhighlightTab = function (t) {
      (t.setAttribute('aria-selected', 'false'),
        t.classList.remove('govuk-tabs__tab--selected'),
        t.setAttribute('tabindex', '-1'));
    }),
    (d.prototype.highlightTab = function (t) {
      (t.setAttribute('aria-selected', 'true'),
        t.classList.add('govuk-tabs__tab--selected'),
        t.setAttribute('tabindex', '0'));
    }),
    (d.prototype.getCurrentTab = function () {
      return this.$module.querySelector('.govuk-tabs__tab--selected');
    }),
    (d.prototype.getHref = function (t) {
      var e = t.getAttribute('href'),
        n = e.slice(e.indexOf('#'), e.length);
      return n;
    }),
    (t.initAll = h),
    (t.Accordion = o),
    (t.Button = i),
    (t.Details = r),
    (t.CharacterCount = s),
    (t.Checkboxes = a),
    (t.ErrorSummary = c),
    (t.Header = l),
    (t.Radios = u),
    (t.Tabs = d));
});
